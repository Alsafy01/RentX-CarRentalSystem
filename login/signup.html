<!DOCTYPE html>
<html>
  <head>
    <script>

      window.onload = function() {
                  var urlParams = new URLSearchParams(window.location.search);
                  var error = urlParams.get('error');

            if (error === 'Email Already Exists') {
                      alert('Email Already Exists');
              var newUrl = window.location.href.replace('?error=Email%20Already%20Exists', '');
              history.replaceState(null, null, newUrl);
                  }

              };
      
      function VEF(email){
        var format = /^[a-zA-Z0-9.]+@[a-zA-Z0-9]+\.+com$/;
        if (!format.test(email))
        {
          return false;
        }
      }
      
      function reg()
      {

        email=document.getElementById("email").value;
        pass=document.getElementById("password").value;
        confpass=document.getElementById("confirmPassword").value;
        
          
               
          
        
        if ( pass.length < 6)
        {
          alert("Password must be more than 6 characters");
          document.getElementById("confirmPassword").value="";
          document.getElementById("password").value="";
              return false;
        }
      
        
        if (VEF(email) == false)
        {
          alert("Wrong email format!");
          document.getElementById("email").value="";
          return false;
        }
        
        if (confpass != pass){
          
          alert("Password confirmation and Password are not identical");
          document.getElementById("confirmPassword").value="";
              return false;
        }
        
      }
      
      
      </script>
    <title>Sign Up</title>
    <link rel="stylesheet" href="loginStyle.css" />
  </head>

  <body>
    <div class="container">
      <div class="top-bar">
        <a href="../index.html" class="back-arrow">&#9664;</a>
      </div>

      <div class="heading">Sign Up</div>

      <form action="add.php"  method="POST"  onsubmit="return reg()" class="form">
        <input
          required=""
          class="input"
          type="text"
          name="username"
          id="username"
          placeholder="Username"
        />

        <input
          required=""
          class="input"
          type="email"
          name="email"
          id="email"
          placeholder="E-mail"
        />

        <input
          required=""
          class="input"
          type="tel"
          name="phone"
          id="phone"
          placeholder="Phone Number"
        />

        <input
          required=""
          class="input"
          type="date"
          name="birthDate"
          id="birthDate"
          placeholder="Birth Date"
        />

        <input
          required=""
          class="input"
          type="text"
          name="address"
          id="address"
          placeholder="Address"
        />

        <select class="input" name="gender" id="gender">
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>

        <input
          required=""
          class="input"
          type="password"
          name="password"
          id="password"
          placeholder="Password"
        />

        <input
          required=""
          class="input"
          type="password"
          name="confirmPassword"
          id="confirmPassword"
          placeholder="Confirm Password"
        />

        <input class="login-button" type="submit" value="Sign Up" />
      </form>

      <span class="agreement"
        ><a href="#">Learn user licence agreement</a></span
      >

      <div class="alternative-option">
        Already have an account? <a href="login.html">Sign In</a>
      </div>
    </div>
  </body>
</html>
